# Secure AI App with Authentication

## Overview
This project is a full-stack AI-powered application with authentication. It allows users to generate coding challenges using OpenAI's GPT models, manage quotas, and view their challenge history. The app is built with a FastAPI backend and a React frontend, integrated with Clerk for authentication.

## Features
- **Authentication**: Secure user authentication using Clerk.
- **Challenge Generation**: Generate coding challenges with OpenAI's GPT models.
- **Quota Management**: Track and manage user quotas for challenge generation.
- **History Retrieval**: View previously generated challenges.

## Technologies Used
### Backend
- **FastAPI**: For building the RESTful API.
- **SQLAlchemy**: For database ORM.
- **OpenAI API**: For generating coding challenges.

### Frontend
- **React**: For building the user interface.
- **Clerk**: For user authentication.

## Installation

### Prerequisites
- Python 3.9 or higher
- Node.js 16 or higher
- Git

### Backend Setup
1. Clone the repository:
   ```bash
   git clone https://github.com/username/Secure-AI-App-with-Auth.git
   cd Secure-AI-App-with-Auth/backend
   ```
2. Create a virtual environment:
   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   ```
3. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```
4. Set up the `.env` file:
   ```plaintext
   OPENAI_API_KEY=your-api-key
   DATABASE_URL=sqlite:///./test.db
   ```
5. Run the backend server:
   ```bash
   uvicorn main:app --reload
   ```

### Frontend Setup
1. Navigate to the frontend directory:
   ```bash
   cd ../frontend
   ```
2. Install dependencies:
   ```bash
   npm install
   ```
3. Set up the `.env` file:
   ```plaintext
   VITE_CLERK_FRONTEND_API=your-clerk-frontend-api
   VITE_BACKEND_URL=http://localhost:8000
   ```
4. Start the development server:
   ```bash
   npm run dev
   ```

## Usage
1. Open the frontend in your browser (default: `http://localhost:5173`).
2. Log in using Clerk authentication.
3. Generate coding challenges, view history, and manage quotas.

## Deployment
### Backend
1. Use a cloud provider (e.g., AWS, Azure, or Google Cloud) to deploy the FastAPI backend.
2. Set up a production database (e.g., PostgreSQL).
3. Update the `.env` file with production credentials.

### Frontend
1. Build the frontend for production:
   ```bash
   npm run build
   ```
2. Deploy the `dist` folder to a hosting service (e.g., Vercel, Netlify).

## Contributing
1. Fork the repository.
2. Create a new branch:
   ```bash
   git checkout -b feature-name
   ```
3. Commit your changes:
   ```bash
   git commit -m "Add feature-name"
   ```
4. Push to your branch:
   ```bash
   git push origin feature-name
   ```
5. Create a pull request.

## License
This project is licensed under the MIT License.

## Contact
For questions or support, contact [punithsujatha@gmail.com].

## Additional Details

### Backend Development
- **Database Schema**: Designed SQLAlchemy models with fields for challenges, quotas, and user details.
- **API Endpoints**:
  - `/generate-challenge`: Generates coding challenges using OpenAI's GPT models.
  - `/quota`: Manages user quotas for challenge generation.
  - `/my-history`: Retrieves the history of challenges generated by the user.
- **Error Handling**: Implemented robust error handling for OpenAI API quota exceeded errors and database interactions.
- **Logging**: Added debug logging for API endpoints to trace issues effectively.
- **OpenAI Integration**: Updated to use `gpt-3.5-turbo` with fallback logic for API errors.

### Frontend Development
- **React Components**:
  - `ChallengeGenerator`: Allows users to generate coding challenges.
  - `MCQChallenge`: Displays multiple-choice questions.
  - `HistoryPanel`: Shows the history of generated challenges.
  - `ClerkProviderWithRoutes`: Manages authentication routes.
- **Styling**: Applied modern CSS for a clean and responsive UI.
- **API Integration**: Connected frontend components to backend endpoints using Axios.

### Authentication
- Integrated Clerk for secure user authentication.
- Ensured proper handling of user sessions and authentication tokens.

### Debugging and Fixes
- Resolved SQLAlchemy errors related to missing primary keys and incorrect field types.
- Fixed logic in `/generate-challenge` endpoint for quota decrement and user ID validation.
- Validated and corrected type issues in backend functions.
- Provided guidance on React/JSX issues and Clerk integration.

### Deployment
- Backend: Configured FastAPI for deployment on cloud platforms.
- Frontend: Prepared React app for deployment on hosting services like Vercel or Netlify.

### Collaboration
- Worked on debugging and implementing features collaboratively.
- Provided detailed explanations and guidance for resolving issues.

This README now reflects the comprehensive work done on the project, including backend and frontend development, debugging, and deployment efforts.
